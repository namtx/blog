<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> Initilize a ReactJS project with Typescript from scratch | namtx.dev </title> <meta name="description" content=" Initilize a ReactJS project with Typescript from scratch "> <meta name="keywords" content="reactjs, webpack, typescript"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="Tran Xuan Nam"> <meta property="article:section" content=""> <meta property="article:tag" content="reactjs, webpack, typescript"> <meta property="article:published_time" content="2021-06-21 00:00:00 +0000"> <meta property="og:url" content="https://namtx.github.io/2021/reactjs-project-from-scratch-with-typescript/"> <meta property="og:title" content=" Initilize a ReactJS project with Typescript from scratch | namtx.dev "> <meta property="og:image" content="https://namtx.github.io"> <meta property="og:description" content=" Initilize a ReactJS project with Typescript from scratch "> <meta property="og:site_name" content="Tran Xuan Nam"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" Initilize a ReactJS project with Typescript from scratch | namtx.dev "> <meta name="twitter:description" content=" Initilize a ReactJS project with Typescript from scratch "> <meta name="twitter:image:src" content="https://namtx.github.io"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" Initilize a ReactJS project with Typescript from scratch | namtx.dev "> <meta itemprop="description" content=" Initilize a ReactJS project with Typescript from scratch "> <meta itemprop="image" content="https://namtx.github.io"> <!-- Canonical link tag --> <link rel="canonical" href="https://namtx.github.io/2021/reactjs-project-from-scratch-with-typescript/"> <link rel="alternate" type="application/rss+xml" title="namtx.dev" href="https://namtx.github.io/feed.xml"> <!-- rel prev and next --> <link rel="stylesheet" href="https://namtx.github.io/assets/css/main.css"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="https://namtx.github.io/">namtx<span>.dev</span></a></h1> <ul class="navbar"> <li><a href="https://namtx.github.io/about">About me</a></li> <li><a href="https://bookmarks.namtx.now.sh/" target="_blank">Bookmarks</a></li> <li><a href="https://namtx.github.io/til">TIL</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <p class="post-meta"><time datetime="2021-06-21T00:00:00+00:00" itemprop="datePublished">Jun 21, 2021</time></p> <h1 class="post-title" itemprop="name headline">Initilize a ReactJS project with Typescript from scratch</h1> </header> <div class="post-content" itemprop="articleBody"> <p>Create a new directory for the project and then go inside it.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>sunflora
<span class="nb">cd </span>sunflora
</code></pre></div></div> <p>Initialize git to keep tracking changes we’re gonna make.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git intit
</code></pre></div></div> <p>Add <code class="highlighter-rouge">package.json</code> file for package management.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>package.json
</code></pre></div></div> <p>And then, add the following content to just created package.json file.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"license"</span>: <span class="s2">"MIT"</span>
<span class="o">}</span>
</code></pre></div></div> <p>Add two most important packages for any ReactJS project.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add react react-dom
yarn add <span class="nt">-D</span> @types/react @types/react-dom
</code></pre></div></div> <p>As we’re gonna use Typescript, we need to add those typing packages as devDependencies.</p> <p>One more thing that, we don’t need upload a huge <code class="highlighter-rouge">node_modules</code> to the git repository.</p> <p><img src="https://user-images.githubusercontent.com/25602820/123408396-2af02c00-d5d7-11eb-9bca-df65ff12d8a6.png" alt="meme" /></p> <p>We ignore it by adding to <code class="highlighter-rouge">.gitignore</code> file.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"node_modules"</span> <span class="o">&gt;&gt;</span> .gitignore
</code></pre></div></div> <p>Create a new src directory, this directory will be the main directory of the project.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>src
<span class="nb">touch </span>App.tsx
</code></pre></div></div> <p>Add some content to <code class="highlighter-rouge">App.tsx</code>. We’re expecting to print out the text <code class="highlighter-rouge">Hello from ReactJS</code> when user access our ReactJS app.</p> <div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/App.tsx</span>

<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">App</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Hello from ReactJS<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div> <p>Next we need an entrypoint where we’re gonna mount our app to the DOM, our app will be mounted into a <code class="highlighter-rouge">&lt;div id="root"&gt;&lt;/div&gt;</code>. Move to next section to see how to add this element to HTML page.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>index.tsx
</code></pre></div></div> <div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/index.tsx</span>

<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="p">&lt;</span><span class="nc">React</span><span class="p">.</span><span class="nc">StrictMode</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">App</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nc">React</span><span class="p">.</span><span class="nc">StrictMode</span><span class="p">&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div> <h3 id="configure-webpack-and-typescript">Configure webpack and Typescript</h3> <p>We need to add wepack as source bundler, we need to add weback config file as following.</p> <div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// webpack.config.ts</span>

<span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">path</span><span class="dl">"</span><span class="p">);</span>

<span class="kr">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">"</span><span class="s2">build</span><span class="dl">"</span><span class="p">),</span>
    <span class="na">filename</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bundle.js</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">index</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">"</span><span class="s2">src/index.tsx</span><span class="dl">"</span><span class="p">),</span>
  <span class="p">},</span>
  <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extensions</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">.ts</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">.tsx</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">.js</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">},</span>
  <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">tsx</span><span class="se">?</span><span class="sr">$/</span><span class="p">,</span>
        <span class="na">use</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ts-loader</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li><code class="highlighter-rouge">output</code> - indicates where to put the result after bundling.</li> <li><code class="highlighter-rouge">entry</code> - the entrypoint which webpack will come to here firstly to bundle code.</li> <li><code class="highlighter-rouge">resolve</code> - as we support Typescript, we make sure webpack understand what we expect to do when it see <code class="highlighter-rouge">import App from './App'</code>.</li> <li><code class="highlighter-rouge">rules</code> - specfies which loader will handle file extension, we will use the <code class="highlighter-rouge">ts-loader</code> to bundle <code class="highlighter-rouge">ts</code> and <code class="highlighter-rouge">tsx</code> file. Just add it to devDependencies:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add <span class="nt">-D</span> ts-loader
</code></pre></div></div> <p>The <code class="highlighter-rouge">ts-loader</code> needs <code class="highlighter-rouge">tsconfig.json</code> file to config the Typescript compiler.</p> <div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// tsconfig.json</span>
<span class="p">{</span>
  <span class="dl">"</span><span class="s2">compilerOptions</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">noImplicitAny</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">module</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">es6</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">target</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">es5</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">jsx</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">allowJs</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">moduleResolution</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">node</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">allowSyntheticDefaultImports</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="webpack-dev-server-and-html-webpack-plugin">webpack-dev-server and html-webpack-plugin</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add <span class="nt">-D</span> webpack-dev-server html-webpack-plugin
</code></pre></div></div> <p>We need a <code class="highlighter-rouge">wepack-dev-server</code> to serve the request to our app, and inside the HTML file we need an ⚓ where our app will mount to.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- public/index.html --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span>
      <span class="na">name=</span><span class="s">"description"</span>
      <span class="na">content=</span><span class="s">"ReactJS from scratch"</span>
    <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>React App<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;noscript&gt;</span>You need to enable JavaScript to run this app.<span class="nt">&lt;/noscript&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"root"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div> <p>As you can see, there is <code class="highlighter-rouge">script</code> tag here to inject the bundled code here. And this is where <code class="highlighter-rouge">html-webpack-plugin</code> saves us.</p> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gi">+ const HtmlWebpackPlugin = require('html-webpack-plugin');
</span>
module.exports = {
<span class="err">...</span>
+  plugins: [
<span class="gi">+    new HtmlWebpackPlugin({
+      hot: true,
+      template: "./public/index.html",
+    }),
+  ],
+  devServer: {
+    contentBase: path.join(__dirname, "build"),
+    compress: true,
+    port: 8080,
+  },
</span><span class="err">};</span>
</code></pre></div></div> <h3 id="final-step">Final step</h3> <p>Just add some scripts to <code class="highlighter-rouge">package.json</code> file to build and start webpack-dev-server</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">//</span><span class="w"> </span><span class="err">package.json</span><span class="w">
</span><span class="p">{</span><span class="w">
	</span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack --config ./webpack.config.ts"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack serve --env development --open"</span><span class="w">
	</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Now, we just need to run <code class="highlighter-rouge">yarn start</code> and access <code class="highlighter-rouge">[http://localhost:8080](http://localhost:8080)</code> to see the result.</p> <p>All code is available on <a href="https://github.com/namtx/sunflora">Github repository</a>.</p> </div> </article> <footer class="site-footer"> <div class="container"> <small class="block">&copy; 2021 Tran Xuan Nam &middot; &lt;/&gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/heiswayi/thinkspace">Thinkspace theme</a></small> </div> </footer> </main> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-XXXXX-XX']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </body> </html>
